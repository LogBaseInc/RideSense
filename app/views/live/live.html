<div data-ng-controller="live as vm">
	<div data-ng-if="vm.showmaps" style="border: 1px solid rgba(128, 128, 128, 0.34); border-radius: 4px;">
		<google-places data-ng-show="vm.locationsearch"></google-places>
		<input data-ng-show="vm.carsearch" type="text" class="input-block-level" placeholder="Search car..." data-ng-model="vm.carsearchselected" typeahead="car as car.title for car in vm.cars.models | filter:{title:$viewValue}" typeahead-template-url="typeaheadElement.html" style="border:0px; width:100%; position: relative; z-index:3;" 
		typeahead-on-select="vm.carsearched($item, $model, $label)"/>
		<div style="position: relative; z-index:3; margin-top:-31px">
			<select style="border:0px; float:right;background-color: transparent;margin-top: 3px;" data-ng-model="vm.searchoption" data-ng-change="vm.searchOptionChanged(vm.searchoption)">
				<option value="" data-ng-if="false"></option>
				<option value="location">Location</option>
				<option value="car">Car</option>
		    </select>
		</div>
	</div>

	<div class="container-fluid" data-ng-if="vm.showmaps" style="margin-top:30px">
		<div class="row">
			<div class="tm-live-map">
				<ui-gmap-google-map center='vm.map.center' zoom='vm.map.zoom'>
					<ui-gmap-marker data-ng-show="vm.dragMarker" coords="vm.marker.coords" options="vm.marker.options" events="vm.marker.events" idkey="vm.marker.id"></ui-gmap-marker>
					<ui-gmap-markers models="vm.cars.models" coords="'self'" options="'options'" events="vm.cars.events" fit="true" labelVisible="true" doCluster="'true'" clusterOptions="vm.clusterOptions"></ui-gmap-markers>
				</ui-gmap-google-map>
			</div>
		</div>
	</div>
	<div data-ng-if="vm.showmaps" class="container-fluid tm-live-overlay">
		<div class="row">
			<div class="col-xs-3 col-md-2 tm-marker">
				<center>
					<br/>
					<a href="" data-ng-click="vm.showDragMarker()">
						<img src="assets/images/marker.png" class="tm-marker-img"></img>
						<p data-ng-show="vm.dragMarker">Remove Marker</p>
						<p data-ng-hide="vm.dragMarker">Add Marker</p>
					</a>
				</center>
			</div>
			<div class="col-xs-3 col-md-7 col-lg-8">
			</div>
			<div class="col-xs-6 col-md-3 col-lg-2 tm-live-summary">
				<p class="tm-live-today">Today</p> 
				<h1 class="tm-live-distance">{{vm.distanceCovered}} <small class="tm-overlay-unit">km <span class="glyphicon glyphicon-arrow-up"></span></small></h1>
				<h4>{{vm.activeCabs}} <small class="tm-overlay-unit">running</small> | {{vm.idleCabs}} <small class="tm-overlay-unit">idle</small></h4>
			</div>
		</div>
	</div>
</div>

<script type="text/ng-template" id="typeaheadElement.html">
  <a style="background-color:white; padding-left:5px; border-top: 1px solid rgba(128, 128, 128, 0.38); padding-top: 3px; padding-bottom: 6px;" >
  	  <i class="fa fa-map-marker" style="color:#858585"></i>
      <span bind-html-unsafe="match.label" style="color:black"></span>
  </a>
</script>